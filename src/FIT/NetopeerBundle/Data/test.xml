<?xml version="1.0" encoding="UTF-8"?>

    <list name="comet-tester" xmlns:h="http://www.w3.org/1999/xhtml">
      <key value="interface-id"/>
      <leaf name="interface-id">
        <type name="uint16">
          <range value="0..max"/>
        </type>
      </leaf>
      <container name="statistics">
        <uses name="enabled-switch"/>
        <container name="data">
          <when condition="../enabled = 'true'"/>
          <config value="false"/>
          <leaf name="pkt-sum">
            <mandatory value="true"/>
            <must condition=". = ../pkt-rec + ../pkt-dis"/>
            <description>
              <text>
                Total packet count (received + discarded).
              </text>
            </description>
            <type name="yang:zero-based-counter64"/>
          </leaf>
          <leaf name="pkt-rec">
            <mandatory value="true"/>
            <description>
              <text>
                Counter of received frames.
              </text>
            </description>
            <type name="yang:zero-based-counter64"/>
          </leaf>
          <leaf name="pkt-dis">
            <mandatory value="true"/>
            <description>
              <text>
                Counter of discarded frames.
              </text>
            </description>
            <type name="yang:zero-based-counter64"/>
          </leaf>
          <leaf name="pkt-bo">
            <mandatory value="true"/>
            <description>
              <text>
                Counter of packets causing buffer overflow.
              </text>
            </description>
            <type name="yang:zero-based-counter64"/>
          </leaf>
          <leaf name="pkt-crc">
            <mandatory value="true"/>
            <description>
              <text>
                Counter of packets with CRC error.
              </text>
            </description>
            <type name="yang:zero-based-counter64"/>
          </leaf>
          <leaf name="pkt-mac">
            <mandatory value="true"/>
            <description>
              <text>
                Counter of packets with bad MAC address.
              </text>
            </description>
            <type name="yang:zero-based-counter64"/>
          </leaf>
          <leaf name="pkt-bmtu">
            <mandatory value="true"/>
            <description>
              <text>
                Counter of packets whose size is less than MTU.
              </text>
            </description>
            <type name="yang:zero-based-counter64"/>
          </leaf>
          <leaf name="pkt-omtu">
            <mandatory value="true"/>
            <description>
              <text>
                Counter of packets whose size is greater than MTU.
              </text>
            </description>
            <type name="yang:zero-based-counter64"/>
          </leaf>
          <leaf name="min-size">
            <mandatory value="true"/>
            <must condition=". &lt;= ../max-size"/>
            <description>
              <text>
                Minimum size.
              </text>
            </description>
            <type name="uint32"/>
          </leaf>
          <leaf name="max-size">
            <mandatory value="true"/>
            <description>
              <text>
                Maximum size.
              </text>
            </description>
            <type name="uint32"/>
          </leaf>
          <leaf name="min-delay">
            <mandatory value="true"/>
            <must condition=". &lt;= ../max-delay"/>
            <description>
              <text>
                XGMII minimum delay.
              </text>
            </description>
            <type name="uint64"/>
            <units name="bytes"/>
          </leaf>
          <leaf name="max-delay">
            <mandatory value="true"/>
            <description>
              <text>
                XGMII maximum delay.
              </text>
            </description>
            <type name="uint64"/>
            <units name="bytes"/>
          </leaf>
          <leaf name="avg-bitrate">
            <mandatory value="true"/>
            <description>
              <text>
                Average bitrate.
              </text>
            </description>
            <type name="uint64"/>
            <units name="Mbps"/>
          </leaf>
          <leaf name="avg-pkt-size">
            <mandatory value="true"/>
            <description>
              <text>
                Average packet size.
              </text>
            </description>
            <type name="uint64"/>
            <units name="bytes"/>
          </leaf>
          <container name="packet-sizes">
            <description>
              <text>
                <h:p>Histogram of observed packet sizes.</h:p>
                <h:p>TBD - specify values of histogram parameters.</h:p>
              </text>
            </description>
            <uses name="histogram64"/>
          </container>
          <container name="packet-gaps">
            <description>
              <text>
                <h:p>Histogram of observed interpacket gaps.</h:p>
                <h:p>TBD - specify values of histogram parameters.</h:p>
              </text>
            </description>
            <uses name="histogram64"/>
          </container>
        </container>
      </container>

      <container name="sender">
        <uses name="enabled-switch"/>
        <leaf name="timestamp">
          <description>
            <text>Timestamp of the first packet.</text>
          </description>
          <type name="uint64"/>
          <units name="nanoseconds"/>
        </leaf>
        <leaf name="start-delay">
          <description>
            <text>Delay of the first packet.</text>
          </description>
          <type name="uint64"/>
          <units name="nanoseconds"/>
        </leaf>
        <leaf name="interval">
          <description>
            <text>Time interval between packets.</text>
          </description>
          <type name="uint64"/>
          <units name="nanoseconds"/>
        </leaf>
        <leaf name="copies">
          <description>
            <text>
              Number of copies of each packet.
            </text>
          </description>
          <type name="uint32"/>
        </leaf>
        <leaf name="speed">
          <description>
            <text>Transmission speed.</text>
          </description>
          <type name="uint64"/>
          <units name="bits/s"/>
        </leaf>
        <leaf name="hw-timestamp">
          <description>
            <text>
              If true, get the first timestamp from hardware.
            </text>
          </description>
          <type name="boolean"/>
        </leaf>
        <container name="pcap-files">
          <description>
            <text>
              List of uploaded pcap files. At any moment, only one of them
              is active.
            </text>
          </description>
          <leaf name="active">
            <description>
              <text>
                <h:p>Reference to the number of the active pcap file.</h:p>
                <h:p>No file is active if this leaf is missing.</h:p>
              </text>
            </description>
            <type name="leafref">
              <path value="../pcap-file/number"/>
            </type>
          </leaf>
          <list name="pcap-file">
            <description>
              <text>
                <h:p>URL of the PCAP file with a sequence number.</h:p>
                <h:p>Numbers must always form an increasing sequence.</h:p>
              </text>
            </description>
            <key value="number"/>
            <leaf name="number">
              <type name="uint8">
                <range value="1..max"/>
              </type>
              <must condition="not(. &lt;=
                ../preceding-sibling::pcap-file/number)">
                <error-message>
                  <value>
            	Sequence numbers must be increasing.
                  </value>
                </error-message>
              </must>
            </leaf>
            <leaf name="url">
              <type name="inet:uri"/>
            </leaf>
          </list>
        </container>
        <container name="data">
          <when condition="../enabled = 'true'"/>
          <config value="false"/>
          <leaf name="status">
            <mandatory value="true"/>
            <description>
              <text>
                Operational status of the sender module.
              </text>
            </description>
            <type name="enumeration">
              <enum name="idle"/>
              <enum name="sending"/>
              <enum name="waiting"/>
            </type>
          </leaf>
        </container>
      </container>

      <container name="output-packet-checker">
        <uses name="enabled-switch"/>
      </container>

      <container name="input-packet-checker">
        <uses name="enabled-switch"/>
        <container name="data">
          <when condition="../enabled = 'true'"/>
          <config value="false"/>
          <leaf name="inord">
            <mandatory value="true"/>
            <description>
              <text>Counter of packets arriving in order.</text>
            </description>
            <type name="yang:zero-based-counter64"/>
          </leaf>
          <leaf name="outord">
            <mandatory value="true"/>
            <description>
              <text>Counter of packets arriving out of order.</text>
            </description>
            <type name="yang:zero-based-counter64"/>
          </leaf>
          <leaf name="lost">
            <mandatory value="true"/>
            <description>
              <text>Counter of lost packets.</text>
            </description>
            <type name="yang:zero-based-counter64"/>
          </leaf>
          <leaf name="error">
            <mandatory value="true"/>
            <description>
              <text>Counter of packets with errors.</text>
            </description>
            <type name="yang:zero-based-counter64"/>
          </leaf>
          <leaf name="max-delay">
            <mandatory value="true"/>
            <description>
              <text>Maximum packet delay.</text>
            </description>
            <type name="uint64"/>
            <units name="nanoseconds"/>
          </leaf>
          <leaf name="min-delay">
            <mandatory value="true"/>
            <description>
              <text>Minimum packet delay.</text>
            </description>
            <type name="uint64"/>
            <units name="nanoseconds"/>
          </leaf>
          <leaf name="avg-delay">
            <mandatory value="true"/>
            <description>
              <text>Average packet delay.</text>
            </description>
            <type name="uint64"/>
          </leaf>
          <container name="packet-delays">
            <description>
              <text>
                <h:p>Histogram of observed packet delays.</h:p>
                <h:p>TBD - specify values of histogram parameters.</h:p>
              </text>
            </description>
            <uses name="histogram64"/>
          </container>
        </container>
      </container>

      <container name="blackhole">
        <uses name="enabled-switch"/>
      </container>
      <container name="physical-coding-sublayer">
        <uses name="enabled-switch"/>
        <leaf name="sys-loopback-enabled">
          <description>
            <text>Enable system loopback.</text>
          </description>
          <type name="boolean"/>
        </leaf>
        <leaf name="net-loopback-enabled">
          <description>
            <text>Enable network loopback.</text>
          </description>
          <type name="boolean"/>
        </leaf>
        <leaf name="low-power-enabled">
          <description>
            <text>Enable low power.</text>
          </description>
          <type name="boolean"/>
        </leaf>
        <leaf name="rx-scr-enabled">
          <description>
            <text>Enable RX descrambler.</text>
          </description>
          <type name="boolean"/>
        </leaf>
        <leaf name="tx-scr-enabled">
          <description>
            <text>Enable TX scrambler.</text>
          </description>
          <type name="boolean"/>
        </leaf>
        <container name="data">
          <config value="false"/>
          <leaf name="tx-fault">
            <mandatory value="true"/>
            <description>
              <text>TX fault indicator.</text>
            </description>
            <type name="boolean"/>
          </leaf>
          <leaf name="rx-fault">
            <mandatory value="true"/>
            <description>
              <text>RX fault indicator.</text>
            </description>
            <type name="boolean"/>
          </leaf>
          <leaf name="high-ber">
            <mandatory value="true"/>
            <description>
              <text>High BER indicator</text>
            </description>
            <type name="boolean"/>
          </leaf>
          <leaf name="ber-count">
            <mandatory value="true"/>
            <description>
              <text>BER counter.</text>
            </description>
            <type name="uint8"/>
          </leaf>
          <leaf name="errblk-count">
            <mandatory value="true"/>
            <description>
              <text>Counter of blocks with errors.</text>
            </description>
            <type name="uint8"/>
          </leaf>
          <leaf name="block-lock">
            <mandatory value="true"/>
            <description>
              <text>Block lock indicator.</text>
            </description>
            <type name="boolean"/>
          </leaf>
        </container>
      </container>
   </list>
  
